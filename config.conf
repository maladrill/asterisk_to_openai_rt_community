OPENAI_API_KEY=<YOUR_OPENAI_API_KEY>
ARI_URL=http://127.0.0.1:8088
ARI_USERNAME=openai_rt
ARI_PASSWORD=EZkJkxQpio9gqyrV
MAX_CONCURRENT_CALLS=10
LOG_LEVEL=info
SYSTEM_PROMPT="You are an assistant for a nationwide telecommunications provider — SQS Polska. Handle outage reports only. Greet and introduce yourself as a Technical Support Assistant. Speak in English only; if the caller responds in another language, ask them to repeat in English — never reply in any language other than English. Ask whether you can help with reporting an outage. Your task is to collect as many of the following details as possible. Always ask questions one at a time: 1) Caller’s full name and the company name if this is a business service; 2) The type of service affected (internet, data transmission, dark fiber lease, phone, PBX); 3) Service ID as shown on the invoice (optional); 4) Address where the outage occurs; 5) Description of the issue. Ask whether the technical team should call back the number being used now, or if the caller wants to provide a different contact number. Ask to fill in any missing information unless marked as optional. When you have all the details, summarize the findings. Start the sentence with: 'Summarizing the ticket for the technical department:'. Ask if the caller wants to add anything. If not, thank them. Finish with: 'Goodbye.' Never answer the caller’s general questions — your job is to obtain outage information. To questions you must respond: 'I’m sorry, but I’m a technical support assistant handling outage reports and I don’t know the answer to your question.' Only if you are asked to connect to a human, consultant, or staff member, you may respond with exactly: 'Okay, connecting you to the technical department' or 'Thank you, connecting you to a representative', after which the call will be redirected. If the caller insults you, say: 'I’m sorry that we’re having trouble communicating. Could I ask you not to use such words?' and then return to handling the outage report."
INITIAL_MESSAGE="Hello"
REALTIME_MODEL=gpt-4o-realtime-preview-2025-06-03
SILENCE_PADDING_MS=100
VAD_THRESHOLD=0.6
VAD_PREFIX_PADDING_MS=200
VAD_SILENCE_DURATION_MS=600
CALL_DURATION_LIMIT_SECONDS=300
# --- Speech & Transcription ---
# --- voices you can use are: 'alloy', 'ash', 'ballad', 'coral', 'echo', 'sage', 'shimmer', 'verse', 'marin', and 'cedar' ---
# --- Supported languages: af=Afrikaans, ar=Arabic, hy=Armenian, az=Azerbaijani, be=Belarusian, bs=Bosnian, bg=Bulgarian, ca=Catalan, zh=Chinese, hr=Croatian, cs=Czech, da=Danish, nl=Dutch, en=English, et=Estonian, fi=Finnish, fr=French, gl=Galician, de=German, el=Greek, he=Hebrew, hi=Hindi, hu=Hungarian, is=Icelandic, id=Indonesian, it=Italian, ja=Japanese, kn=Kannada, kk=Kazakh, ko=Korean, lv=Latvian, lt=Lithuanian, mk=Macedonian, ms=Malay, mr=Marathi, mi=Maori, ne=Nepali, no=Norwegian, fa=Persian, pl=Polish, pt=Portuguese, ro=Romanian, ru=Russian, sr=Serbian, sk=Slovak, sl=Slovenian, es=Spanish, sw=Swahili, sv=Swedish, tl=Tagalog, ta=Tamil, th=Thai, tr=Turkish, uk=Ukrainian, ur=Urdu, vi=Vietnamese, cy=Welsh

OPENAI_VOICE=ash
TRANSCRIPTION_MODEL=whisper-1
TRANSCRIPTION_LANGUAGE=en
# Where to save conversation transcripts
RECORDINGS_DIR=/var/spool/asterisk/monitor
# === Assistant handoff: redirect to queue when the ASSISTANT says any of these phrases ===
# Quotes are required; commas separate phrases.
REDIRECTION_PHRASES="'Okay, connecting you to the technical department','Thank you, connecting you to a representative'"
# === Terminate call when the ASSISTANT says any of these phrases ===
AGENT_TERMINATE_PHRASES="'goodbye','farewell'"
# The Queue extension to transfer the live call to (FreePBX Queue number)
REDIRECTION_QUEUE=3000

# === Email on natural call end (not after redirect/handoff) ===
EMAIL_ENABLED=true
SMTP_HOST=mail.example.com
SMTP_PORT=465
SMTP_SECURE=true            # true for SSL/TLS on port 465
SMTP_USER=asterisk@example.com
SMTP_PASS=SECR3tpa$$word
EMAIL_FROM=Asisstant <asterisk@example.com>
EMAIL_TO=noc@example.com, crm@example.com
# (optional) custom templates (supports {{callerId}}, {{channelId}}, {{reason}})
EMAIL_SUBJECT_TEMPLATE=SQS — Conversation transcript {{callerId}} ({{channelId}})
EMAIL_BODY_TEMPLATE=Attached is the conversation transcript.\nCaller: {{callerId}}\nChannel: {{channelId}}\nReason: {{reason}}\n

